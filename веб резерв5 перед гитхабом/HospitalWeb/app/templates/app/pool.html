{% extends 'app/layout.html' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<h2>{{ title }}</h2>

  {% if form %}
<form method="post" class="mt-4">
    {% csrf_token %}

    <div class="mb-3">
        {{ form.name.label_tag }}<br>
        {{ form.name }}
        {% for err in form.name.errors %}
        <div class="text-danger">{{ err }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        {{ form.email.label_tag }}<br>
        {{ form.email }}
        {% for err in form.email.errors %}
        <div class="text-danger">{{ err }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        {{ form.rating.label_tag }}<br>
        {{ form.rating }}
        {% for err in form.rating.errors %}
        <div class="text-danger">{{ err }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        {{ form.favorite_section.label_tag }}<br>
        {{ form.favorite_section }}
        {% for err in form.favorite_section.errors %}
        <div class="text-danger">{{ err }}</div>
        {% endfor %}
    </div>

    <div class="form-check mb-3">
        {{ form.subscribe }} {{ form.subscribe.label_tag }}
        {% for err in form.subscribe.errors %}
        <div class="text-danger">{{ err }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        {{ form.comments.label_tag }}<br>
        {{ form.comments }}
        {% for err in form.comments.errors %}
        <div class="text-danger">{{ err }}</div>
        {% endfor %}
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-primary">Отправить отзыв</button>
    </div>
</form>

  {% else %}
<div class="alert alert-success mt-4">
    <h4>Спасибо за ваш отзыв!</h4>
    <ul class="list-unstyled">
        <li><strong>Имя:</strong> {{ data.name }}</li>
        <li><strong>Email:</strong> {{ data.email }}</li>
        <li><strong>Оценка сайта:</strong> {{ data.rating }}</li>
        <li><strong>Любимый раздел:</strong> {{ data.favorite_section }}</li>
        <li><strong>Подписка на новости:</strong> {{ data.subscribe }}</li>
        <li><strong>Комментарий:</strong> {{ data.comments|linebreaks }}</li>
    </ul>
</div>
  {% endif %}
{% endblock %}
